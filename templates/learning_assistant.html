<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning Assistant</title>
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --light: #f3f4f6;
            --dark: #1f2937;
            --accent: #f59e0b;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8fafc;
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 40px 0;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            text-align: center;
        }
        
        .hero-image {
            width: 100%;
            max-width: 800px;
            margin: 20px auto 0;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        h1 {
            font-size: 2.5rem;
            margin: 0;
            font-weight: 700;
        }
        
        .subtitle {
            font-size: 1.2rem;
            margin-top: 10px;
            opacity: 0.9;
        }
        
        .intro {
            background-color: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
            border-left: 5px solid var(--primary);
        }
        
        h2 {
            color: var(--primary-dark);
            font-size: 1.8rem;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light);
            margin-top: 40px;
        }
        
        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }
        
        .resource {
            background-color: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .resource:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }
        
        .resource-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }
        
        .resource-header {
            padding: 15px;
            background-color: var(--primary);
            color: white;
        }
        
        .resource-body {
            padding: 20px;
        }
        
        .resource h3 {
            margin: 0;
            font-size: 1.3rem;
        }
        
        .resource p {
            color: #4b5563;
            margin: 15px 0;
        }
        
        .btn {
            display: inline-block;
            padding: 10px 20px;
            background-color: var(--secondary);
            color: white;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: background-color 0.2s ease;
        }
        
        .btn:hover {
            background-color: #059669;
            text-decoration: none;
        }
        
        .quiz-section {
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin: 40px 0;
            text-align: center;
            border-top: 5px solid var(--accent);
            background-image: url('/api/placeholder/800/400');
            background-size: cover;
            background-position: center;
            background-blend-mode: overlay;
            background-color: rgba(255, 255, 255, 0.9);
        }
        
        .quiz-btn {
            background-color: var(--accent);
            color: white;
            font-size: 1.1rem;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.2s ease;
        }
        
        .quiz-btn:hover {
            background-color: #d97706;
        }
        
        .icon {
            font-size: 24px;
            margin-right: 10px;
            vertical-align: middle;
        }
        
        footer {
            text-align: center;
            padding: 30px 0;
            margin-top: 50px;
            color: #6b7280;
            font-size: 0.9rem;
        }
        
        /* New CSS for sign detection feature */
        .sign-detection {
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin: 40px 0;
            text-align: center;
            border-left: 5px solid var(--secondary);
        }
        
        .video-container {
            position: relative;
            width: 100%;
            max-width: 640px;
            margin: 0 auto;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        #video {
            width: 100%;
            border-radius: 10px;
            display: block;
        }
        
        #canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 10px;
        }
        
        .detection-result {
            margin-top: 20px;
            padding: 20px;
            background-color: var(--light);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .sign-name {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--primary-dark);
        }
        
        .sign-meaning {
            font-size: 1.2rem;
            color: var(--dark);
        }
        
        .control-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .control-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.2s ease;
        }
        
        .start-btn {
            background-color: var(--secondary);
            color: white;
        }
        
        .start-btn:hover {
            background-color: #059669;
        }
        
        .stop-btn {
            background-color: #ef4444;
            color: white;
        }
        
        .stop-btn:hover {
            background-color: #dc2626;
        }
        
        .reference-section {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .reference-card {
            background-color: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: transform 0.2s;
        }
        
        .reference-card:hover {
            transform: scale(1.05);
        }
        
        .reference-img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 50%;
            margin-bottom: 10px;
        }
        
        .sign-guide-btn {
            background-color: var(--primary);
            color: white;
            margin-top: 20px;
        }
        
        .sign-guide-btn:hover {
            background-color: var(--primary-dark);
        }
        
        .guide-modal {
            display: none;
            position: fixed;
            z-index: 10;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }
        
        .guide-content {
            background-color: white;
            margin: 10% auto;
            padding: 30px;
            width: 80%;
            max-width: 800px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .close-modal {
            float: right;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .signs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .sign-card {
            border: 1px solid var(--light);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .sign-img {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 10px;
        }
        
        @media (max-width: 768px) {
            .resources-grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .reference-section {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            
            .signs-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- MediaPipe dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
</head>
<body>
    <header>
        <div class="container">
            <h1><i class="fas fa-hands"></i> Learning Assistant</h1>
            <p class="subtitle">Effective Communication with Disabled Individuals</p>
            <img src="/api/placeholder/800/400" alt="People communicating using sign language" class="hero-image">
        </div>
    </header>
    
    <div class="container">
        <div class="intro">
            <p>Welcome to the Learning Assistant! Discover resources to help you learn effective communication strategies with disabled individuals, including sign language and assistive technologies. Our interactive sign detector will help you practice and learn common hand gestures in real-time.</p>
        </div>
        
        <!-- New Sign Detection Section -->
        <h2><i class="fas fa-camera"></i> Sign Language Detector</h2>
        <div class="sign-detection">
            <p>Practice your sign language skills with our real-time sign detector. Position your hand in front of your camera and we'll identify the sign you're making.</p>
            
            <div class="video-container">
                <video id="video" playsinline></video>
                <canvas id="canvas"></canvas>
            </div>
            
            <div class="detection-result">
                <div class="sign-name">Ready to detect signs</div>
                <div class="sign-meaning">Position your hand in front of the camera</div>
            </div>
            
            <div class="control-buttons">
                <button id="startBtn" class="control-btn start-btn"><i class="fas fa-play"></i> Start Camera</button>
                <button id="stopBtn" class="control-btn stop-btn" disabled><i class="fas fa-stop"></i> Stop Camera</button>
                <button id="signGuideBtn" class="control-btn sign-guide-btn"><i class="fas fa-book"></i> Sign Guide</button>
            </div>
            
            <h3>Recently Detected Signs</h3>
            <div class="reference-section" id="recentSigns">
                <!-- Recent signs will be added here dynamically -->
            </div>
        </div>
        
        <!-- Sign Guide Modal -->
        <div id="signGuideModal" class="guide-modal">
            <div class="guide-content">
                <span class="close-modal">&times;</span>
                <h2>Sign Language Guide</h2>
                <p>Learn these common signs and practice with our sign detector!</p>
                
                <div class="signs-grid">
                    <div class="sign-card">
                        <img src="/api/placeholder/120/120" alt="Open Palm" class="sign-img">
                        <h3>Open Palm</h3>
                        <p>"Hello! How are you?"</p>
                        <small>All fingers extended upward</small>
                    </div>
                    
                    <div class="sign-card">
                        <img src="/api/placeholder/120/120" alt="Pointing" class="sign-img">
                        <h3>Pointing</h3>
                        <p>"Look there! What is that?"</p>
                        <small>Index finger extended, other fingers curled</small>
                    </div>
                    
                    <div class="sign-card">
                        <img src="/api/placeholder/120/120" alt="Thumbs Up" class="sign-img">
                        <h3>Thumbs Up</h3>
                        <p>"Yes! Good! Okay."</p>
                        <small>Thumb extended upward, other fingers curled</small>
                    </div>
                    
                    <div class="sign-card">
                        <img src="/api/placeholder/120/120" alt="Thumbs Down" class="sign-img">
                        <h3>Thumbs Down</h3>
                        <p>"No! Not Good."</p>
                        <small>Thumb extended downward, other fingers curled</small>
                    </div>
                    
                    <div class="sign-card">
                        <img src="/api/placeholder/120/120" alt="Victory (Peace)" class="sign-img">
                        <h3>Victory (Peace)</h3>
                        <p>"Victory! Everything is fine."</p>
                        <small>Index and middle fingers extended in V-shape</small>
                    </div>
                    
                    <div class="sign-card">
                        <img src="/api/placeholder/120/120" alt="OK Sign" class="sign-img">
                        <h3>OK Sign</h3>
                        <p>"Perfect! I understand."</p>
                        <small>Thumb and index finger form circle, other fingers extended</small>
                    </div>
                    
                    <div class="sign-card">
                        <img src="/api/placeholder/120/120" alt="Fist" class="sign-img">
                        <h3>Fist</h3>
                        <p>"Solidarity! Strength!"</p>
                        <small>All fingers curled into palm</small>
                    </div>
                    
                    <div class="sign-card">
                        <img src="/api/placeholder/120/120" alt="I Love You" class="sign-img">
                        <h3>I Love You</h3>
                        <p>"I love you!"</p>
                        <small>Pinky, index, and thumb extended; ring and middle fingers curled</small>
                    </div>
                </div>
            </div>
        </div>
        
        <h2><i class="fas fa-book-open"></i> Learning Resources</h2>
        <div class="resources-grid">
            <div class="resource">
                <img src="/api/placeholder/400/180" alt="American Sign Language" class="resource-image">
                <div class="resource-header">
                    <h3>Introduction to ASL</h3>
                </div>
                <div class="resource-body">
                    <p>Learn the basics of American Sign Language with our comprehensive beginner's guide.</p>
                    <a href="#" class="btn" target="_blank">
                        <i class="fas fa-external-link-alt"></i> Learn More
                    </a>
                </div>
            </div>
            
            <div class="resource">
                <img src="/api/placeholder/400/180" alt="Communication Strategies" class="resource-image">
                <div class="resource-header">
                    <h3>Communication Strategies</h3>
                </div>
                <div class="resource-body">
                    <p>Discover effective techniques for communicating with individuals who have various disabilities.</p>
                    <a href="#" class="btn" target="_blank">
                        <i class="fas fa-external-link-alt"></i> Learn More
                    </a>
                </div>
            </div>
            
            <div class="resource">
                <img src="/api/placeholder/400/180" alt="Assistive Technologies" class="resource-image">
                <div class="resource-header">
                    <h3>Assistive Technologies</h3>
                </div>
                <div class="resource-body">
                    <p>Explore modern assistive technologies that enable better communication and accessibility.</p>
                    <a href="#" class="btn" target="_blank">
                        <i class="fas fa-external-link-alt"></i> Learn More
                    </a>
                </div>
            </div>
            
            <!-- New Resource Card for Sign Language Basics -->
            <div class="resource">
                <img src="/api/placeholder/400/180" alt="Basic Sign Language" class="resource-image">
                <div class="resource-header">
                    <h3>Basic Sign Language</h3>
                </div>
                <div class="resource-body">
                    <p>Master everyday signs that you can use immediately to communicate with deaf or hard-of-hearing individuals.</p>
                    <a href="#" class="btn" target="_blank">
                        <i class="fas fa-external-link-alt"></i> Learn More
                    </a>
                </div>
            </div>
        </div>
        
        <div class="quiz-section">
            <h2><i class="fas fa-question-circle"></i> Interactive Quiz</h2>
            <p>Test your knowledge about communicating with disabled individuals and earn a certificate!</p>
            <button class="quiz-btn" onclick="alert('Quiz feature coming soon!')">
                <i class="fas fa-play-circle"></i> Start Quiz
            </button>
        </div>
    </div>
    
    <footer>
        <div class="container">
            <p>Â© 2025 Learning Assistant | Empowering inclusive communication</p>
        </div>
    </footer>

    <script>
                // MediaPipe implementation for hand tracking and sign detection
        const videoElement = document.getElementById('video');
        const canvasElement = document.getElementById('canvas');
        const canvasCtx = canvasElement.getContext('2d');
        const startBtn = document.getElementById('startBtn');
        const stopBtn = document.getElementById('stopBtn');
        const signGuideBtn = document.getElementById('signGuideBtn');
        const signGuideModal = document.getElementById('signGuideModal');
        const closeModal = document.querySelector('.close-modal');
        const signNameElement = document.querySelector('.sign-name');
        const signMeaningElement = document.querySelector('.sign-meaning');
        const recentSignsContainer = document.getElementById('recentSigns');
        
        let camera;
        let detectingSign = false;
        let recentSigns = [];
        const maxRecentSigns = 4;
        let lastDetectedSign = "";
        let lastDetectionTime = 0;
        const detectionCooldown = 1000; // 1 second cooldown to avoid rapid detection changes
        
        // Start camera function
        startBtn.addEventListener('click', async () => {
            camera = await startCamera(videoElement);
            detectingSign = true;
            startBtn.disabled = true;
            stopBtn.disabled = false;
            detectSigns();
        });

        // Stop camera function
        stopBtn.addEventListener('click', () => {
            detectingSign = false;
            if (camera) {
                camera.stop();
            }
            startBtn.disabled = false;
            stopBtn.disabled = true;
            signNameElement.textContent = "Camera stopped";
            signMeaningElement.textContent = "";
        });

        // Close sign guide modal
        closeModal.addEventListener('click', () => {
            signGuideModal.style.display = 'none';
        });

        // Open sign guide modal
        signGuideBtn.addEventListener('click', () => {
            signGuideModal.style.display = 'block';
        });

        async function startCamera(video) {
            const stream = await navigator.mediaDevices.getUser Media({
                video: true
            });
            video.srcObject = stream;
            return {
                stop: () => {
                    stream.getTracks().forEach(track => track.stop());
                }
            };
        }

        async function detectSigns() {
            if (!detectingSign) return;

            canvasCtx.drawImage(videoElement, 0, 0, canvasElement.width, canvasElement.height);
            const imageData = canvasCtx.getImageData(0, 0, canvasElement.width, canvasElement.height);
            const landmarks = await getHandLandmarks(imageData);

            if (landmarks) {
                detectSign(landmarks);
            }

            requestAnimationFrame(detectSigns);
        }

        async function getHandLandmarks(imageData) {
            // Convert image data to a format suitable for MediaPipe
            const inputImage = new ImageData(new Uint8ClampedArray(imageData.data), imageData.width, imageData.height);
            const results = await hands.send({ image: inputImage });

            if (results.multiHandLandmarks) {
                return results.multiHandLandmarks[0].landmark; // Return landmarks of the first detected hand
            }
            return null;
        }

        function detectSign(landmarks) {
            const currentTime = Date.now();
            
            // Add cooldown to prevent rapid sign changes
            if (currentTime - lastDetectionTime < detectionCooldown) {
                return;
            }
            
            for (const sign of handSigns) {
                if (sign.condition(landmarks)) {
                    if (sign.name !== lastDetectedSign) {
                        signNameElement.textContent = sign.name;
                        signMeaningElement.textContent = sign.meaning;
                        lastDetectedSign = sign.name;
                        lastDetectionTime = currentTime;
                        
                        // Add to recent signs if not already there
                        if (!recentSigns.some(s => s.name === sign.name)) {
                            addRecentSign(sign.name, sign.meaning);
                        }
                    }
                    return;
                }
            }
            
            // If no sign is detected for a while, reset
            if (currentTime - lastDetectionTime > 3000 && lastDetectedSign !== "") {
                signNameElement.textContent = "Waiting for sign...";
                signMeaningElement.textContent = "Position your hand in front of the camera";
                lastDetectedSign = "";
            }
        }
        
        function addRecentSign(name, meaning) {
            // Add to the beginning of the array
            recentSigns.unshift({ name, meaning });
            
            // Limit to maximum number of recent signs
            if (recentSigns.length > maxRecentSigns) {
                recentSigns.pop(); // Remove the oldest sign if we exceed the limit
            }
            
            // Update the UI with the recent signs
            updateRecentSignsUI();
        }
        
        function updateRecentSignsUI() {
            recentSignsContainer.innerHTML = ''; // Clear the current UI
            
            recentSigns.forEach(sign => {
                const card = document.createElement('div');
                card.className = 'reference-card';
                
                card.innerHTML = `
                    <img src="/api/placeholder/100/100" alt="${sign.name}" class="reference-img">
                    <h4>${sign.name}</h4>
                    <p>${sign.meaning}</p>
                `;
                
                recentSignsContainer.appendChild(card);
            });
        }
    </script>
</body>
</html>
